---
// src/components/ImagenEstatica.astro
import type { ImageMetadata } from "astro";

interface Props {
  imgPath: string; // Ejemplo: "qigong-wudang/wu (1).webp"
  altText: string;
  class?: string;
}

const { imgPath, altText, class: className } = Astro.props;
const images = import.meta.glob<{ default: ImageMetadata }>(
  "/src/images/**/*.{jpeg,jpg,png,gif,webp,WEBP}",
);
const fullPath = `/src/images/${imgPath}`;

if (!images[fullPath]) throw new Error(`"${fullPath}" no existe.`);
const image = await images[fullPath]();
---

<img src={image.default.src} alt={altText} class={className} loading="lazy" />
